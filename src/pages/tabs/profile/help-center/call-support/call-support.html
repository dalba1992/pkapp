<ion-header>
  <ion-row class="header-row" (click)="navCtrl.pop()">
    <ion-row class="header-title">
      <ion-col col-1>
        <ion-icon name="ios-arrow-back"></ion-icon>
      </ion-col>
      <span>
        Request a call from PK
      </span>
      <ion-col col-1></ion-col>
    </ion-row>
  </ion-row>
</ion-header>


<ion-content padding>
  <div class="unrequested" *ngIf="!isRequested">
    <ion-row [ngClass]="isFocusDes?'input-box input-des active':'input-box input-des'">
      <ion-textarea autofocus type="text" placeholder="Describe your issue in details" [(ngModel)]="body"
        (ionFocus)='isFocus("text")' (ionBlur)='isBlur("text")'></ion-textarea>
    </ion-row>

    <ion-row *ngIf="callRequestError" text-wrap>
      <ion-col col-12>
        <ion-label color="danger">{{ callRequestError }}</ion-label>
      </ion-col>
    </ion-row>

    <button ion-button class="normal-button" (click)="request()" [disabled]="!requestEnabled">{{ requestText }}</button>
    <div class="note">
      <p>Once your request has been received, you will be contacted by the next available agent</p>
    </div>
  </div>
  <div class="requested" *ngIf="isRequested">
    <ion-row class="requested-logo">
      <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96">
        <g id="Group_965" data-name="Group 965" transform="translate(-132 -104)">
          <g id="Ellipse_18" data-name="Ellipse 18" transform="translate(132 104)" fill="none" stroke="rgba(255,255,255,0.2)"
            stroke-width="1">
            <circle cx="48" cy="48" r="48" stroke="none" />
            <circle cx="48" cy="48" r="47.5" fill="none" />
          </g>
          <path id="Path_19" data-name="Path 19" d="M308.036,69.357,320.81,84.331l23.1-30.871" transform="translate(-146.97 83.549)"
            fill="none" stroke="#8ADB20" stroke-linecap="round" stroke-linejoin="round" stroke-width="6" />
        </g>
      </svg>
    </ion-row>
    <p class="requested-des">Call requested</p>
    <p class="requested-sub-des">Custommer Support will call you at</p>
    <p class="phone">{{ user.phone }}</p>
    <p class="requested-sub-des">as soon as the first agent becomes available.</p>
  </div>
</ion-content>